{"version":3,"sources":["Snake.js","Apple.js","Score.js","index.js"],"names":["Snake","_this","this","snake","props","value","map","local","index","sx","sy","react_default","a","createElement","key","className","style","width","itemprop","distRatio","height","margin","borderRadius","left","top","React","Component","Apple","apple","spawnApple","Score","pixParInScore","fontSize","clientHeight","viewHeight","clientWidth","viewWidth","viewBorder","Game","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","nextFrame","state","yv","setState","invStartDir","xv","locals","locations","obj","id","unshift","i","length","newScore","score","highScore","ax","ay","applex","Math","floor","random","appley","increment","pop","componentDidMount","intervalId","setInterval","handleKeyPress","event","keyCode","clearInterval","document","documentElement","pixPar","src_Score","onKeyDown","tabIndex","src_Snake","src_Apple","ReactDOM","render","src_Game","getElementById"],"mappings":"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","file":"static/js/main.3c111981.chunk.js","sourcesContent":["import React from 'react';\r\nimport './index.css';\r\n\r\nclass Snake extends React.Component {\r\n  render () {\r\n\r\n    const snake = this.props.value.map((local, index) => {\r\n      if (local.sx < 0) local.sx = 19;\r\n      if (local.sx > 19) local.sx = 0;\r\n      if (local.sy < 0) local.sy = 19;\r\n      if (local.sy > 19) local.sy = 0;\r\n      \r\n      return(\r\n      <div \r\n        key={index} // Fix! (make actually unique)\r\n        className=\"snakepiece\" \r\n        style={{\r\n          width: this.props.itemprop.distRatio - 2,\r\n          height: this.props.itemprop.distRatio - 4,\r\n          margin: -this.props.itemprop.distRatio / 2,\r\n          borderRadius: this.props.itemprop.distRatio * 0.4,\r\n          // location = square*ratio + offset\r\n          left: local.sx*this.props.itemprop.distRatio + this.props.itemprop.distRatio/2 + 'px',\r\n          top: local.sy*this.props.itemprop.distRatio + this.props.itemprop.distRatio/2 + 'px'\r\n        }}\r\n      ></div>\r\n      )\r\n    })\r\n\r\n    return (\r\n      <div>{snake}</div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Snake;","import React from 'react';\r\nimport './index.css';\r\n\r\nclass Apple extends React.Component {\r\n  spawnApple() {\r\n    return (\r\n      <div\r\n        className=\"apple\"\r\n        style={{\r\n          width: this.props.itemprop.distRatio - 4,\r\n          height: this.props.itemprop.distRatio - 4,\r\n          margin: -this.props.itemprop.distRatio / 2 - 2,\r\n          borderRadius: this.props.itemprop.distRatio / 2,\r\n          // Location = square*ratio + offset\r\n          left: this.props.value * this.props.itemprop.distRatio + this.props.itemprop.distRatio*0.6 + 'px',\r\n          top: this.props.index * this.props.itemprop.distRatio + this.props.itemprop.distRatio*0.6 + 'px'\r\n        }}\r\n      ></div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const apple = this.spawnApple();\r\n    return (\r\n      <div>{apple}</div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Apple;","import React from 'react';\r\nimport './index.css';\r\n\r\nclass Score extends React.Component {\r\n  \r\n  render () {\r\n    let pixParInScore = this.props.itemprop;\r\n    return (\r\n      <div\r\n        className=\"scoreboard\"\r\n        style={{\r\n          fontSize: pixParInScore.distRatio * 3/2 + 'px',\r\n          top: (pixParInScore.clientHeight - pixParInScore.viewHeight + 116) / 2 - 116 + (116 - this.props.itemprop.viewHeight / 4) + 'px',\r\n          left: (pixParInScore.clientWidth\t- pixParInScore.viewWidth - pixParInScore.viewBorder*2) / 2 + 'px'\r\n        }}\r\n      >\r\n        <div \r\n          className=\"halfboard\" \r\n          style={{\r\n            width: pixParInScore.viewWidth/2 - 2,\r\n            height: this.props.itemprop.viewHeight / 4 + 'px',\r\n          }}\r\n        >\r\n          <div className=\"board-word\" >Score</div>\r\n          <div className=\"board-num\" >{this.props.value}</div>\r\n        </div>\r\n        <div\r\n          className=\"halfboard\"\r\n          style={{\r\n            width: pixParInScore.viewWidth/2 - 2,\r\n            height: this.props.itemprop.viewHeight / 4 + 'px',\r\n          }}\r\n        >\r\n          <div className=\"board-word\" >High Score</div>\r\n          <div className=\"board-num\" >{this.props.index}</div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Score;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport Snake from './Snake.js';\r\nimport Apple from './Apple.js';\r\nimport Score from './Score.js';\r\n\r\n//test\r\nclass Game extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      ax: Math.floor( Math.random()*20 ),\r\n      ay: Math.floor( Math.random()*20 ),\r\n      xv: 0,\r\n      yv: 0,\r\n      invStartDir: \"down\",\r\n      score: 0,\r\n      highScore: 0,\r\n      locations: [\r\n        {sx: 10, sy: 10, id: 5},\r\n        {sx: 10, sy: 11, id: 4},\r\n        {sx: 10, sy: 12, id: 3},\r\n        {sx: 10, sy: 13, id: 2},\r\n        {sx: 10, sy: 14, id: 1}\r\n      ],\r\n    }\r\n  }\r\n  \r\n  nextFrame = () => {\r\n    if (this.state.yv === -1) this.setState({ invStartDir: \"down\" });\r\n    else if (this.state.yv === 1) this.setState({ invStartDir: \"up\" });\r\n    else if (this.state.xv === -1) this.setState({ invStartDir: \"right\" });\r\n    else if (this.state.xv === 1) this.setState({ invStartDir: \"left\" });\r\n    \r\n    let locals = this.state.locations;\r\n    let obj = {\r\n      sx: locals[0].sx + this.state.xv,\r\n      sy: locals[0].sy + this.state.yv,\r\n      id: locals[0].id + 1\r\n    }\r\n    locals.unshift(obj);\r\n\r\n    // Collision tests\r\n    for (let i = 1; i < locals.length; i++) {\r\n      if (\r\n        (locals[i].sx === locals[0].sx &&\r\n        locals[i].sy === locals[0].sy) ||\r\n        locals[0].sx < 0 || locals[0].sx > 19 ||\r\n        locals[0].sy < 0 || locals[0].sy > 19\r\n        ) {\r\n          // If collision detected\r\n          let newScore = 0;\r\n          if (this.state.score > this.state.highScore) {\r\n            newScore = this.state.score;\r\n          } else {\r\n            newScore = this.state.highScore;\r\n          }\r\n          this.setState({\r\n            locations: [\r\n              {sx: 10, sy: 10, id: 0},\r\n              {sx: 10, sy: 11, id: 1},\r\n              {sx: 10, sy: 12, id: 2},\r\n              {sx: 10, sy: 13, id: 3},\r\n              {sx: 10, sy: 14, id: 4}\r\n            ],\r\n            xv: 0,\r\n            yv: 0,\r\n            highScore: newScore,\r\n            score: 0,\r\n          })\r\n          return;\r\n        }\r\n    }\r\n    // Apple collision test\r\n    if (\r\n      locals[0].sx === (this.state.ax) &&\r\n      locals[0].sy === (this.state.ay)\r\n      ) {\r\n      var applex = Math.floor( Math.random()*20 );\r\n      var appley = Math.floor( Math.random()*20 );\r\n      \r\n      // Prevent spawning on snake\r\n      for (let i = 0; i < locals.length; i++) {\r\n        if (applex === locals[i].sx && appley === locals[i].sy) {\r\n          applex = Math.floor( Math.random()*20 );\r\n          appley = Math.floor( Math.random()*20 );\r\n          i = 0;\r\n        }\r\n      }\r\n      // New apple and score++\r\n      var increment = this.state.score + 1;\r\n      this.setState({\r\n        ax: applex,\r\n        ay: appley,\r\n        score: increment\r\n      })\r\n    }\r\n    // \r\n    else {\r\n      locals.pop(locals.length - 1)\r\n    }\r\n    this.setState({\r\n      locations: locals,\r\n    })\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    this.intervalId = setInterval(this.nextFrame, 1000/10);\r\n  }\r\n  componentWillUnmount() {\r\n    clearInterval(this.intervalId);\r\n  }\r\n  handleKeyPress = event => {\r\n    if ((event.keyCode === 37) || (event.key === \"a\")) {\r\n      if (this.state.invStartDir !== \"left\"){\r\n        this.setState({\r\n          xv: -1,\r\n          yv: 0\r\n        });\r\n      }\r\n    } else if ((event.keyCode === 38) || (event.key === \"w\")) {\r\n      if (this.state.invStartDir !== \"up\"){\r\n        this.setState({\r\n          xv: 0,\r\n          yv: -1\r\n        });\r\n      }\r\n    } else if ((event.keyCode === 39) || (event.key === \"d\")) {\r\n      if (this.state.invStartDir !== \"right\"){\r\n        this.setState({\r\n          xv: 1,\r\n          yv: 0\r\n        });\r\n      }\r\n    } else if ((event.keyCode === 40) || (event.key === \"s\")) {\r\n      if (this.state.invStartDir !== \"down\"){\r\n        this.setState({\r\n          xv: 0,\r\n          yv: 1\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let clientHeight = document.documentElement.clientHeight,\r\n        clientWidth = document.documentElement.clientWidth,\r\n        viewHeight = 0,\r\n        viewWidth = 0,\r\n        distRatio = 0;\r\n    if (clientWidth >= clientHeight) {\r\n      viewHeight = clientHeight*2/3;\r\n      viewWidth = viewHeight;\r\n      distRatio = viewHeight / 20;\r\n    } else {\r\n      viewWidth = clientWidth*2/3;\r\n      viewHeight=viewWidth;\r\n      distRatio = viewWidth / 20\r\n    }\r\n    let pixPar = { // pixelParameters\r\n        clientHeight,\r\n        clientWidth,\r\n        viewBorder: 8,\r\n        viewWidth,\r\n        viewHeight,\r\n        distRatio, // viewHeight / game squares\r\n      };\r\n      \r\n    return (\r\n      <div>\r\n        <Score\r\n          className\r\n          value={this.state.score}\r\n          index={this.state.highScore}\r\n          itemprop={pixPar}\r\n        />\r\n        <div\r\n          className=\"viewport\"\r\n          onKeyDown={this.handleKeyPress}\r\n          tabIndex=\"0\"\r\n          style={{\r\n            width: pixPar.viewWidth,\r\n            height: pixPar.viewHeight,\r\n            top: (pixPar.clientHeight\t- pixPar.viewHeight - pixPar.viewBorder*2 + 116) / 2 + 'px',\r\n            left: (pixPar.clientWidth\t- pixPar.viewWidth - pixPar.viewBorder*2) / 2 + 'px'\r\n          }}\r\n        >\r\n          <Snake\r\n            value={this.state.locations}\r\n            itemprop={pixPar}\r\n          />\r\n          <Apple \r\n            value={this.state.ax}\r\n            index={this.state.ay}\r\n            itemprop={pixPar}\r\n          />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nReactDOM.render(<Game />, document.getElementById(\"root\"))"],"sourceRoot":""}